{"__elements":{},"__inputs":[{"label":"BMC Helix","name":"DS_BMC_HELIX","pluginId":"bmchelix-ade-datasource","pluginName":"BMC Helix","type":"datasource"},{"description":"","label":"CRQKeyword","name":"VAR_CRQKEYWORD","type":"constant","value":"Remediat"},{"description":"","label":"SmartITURL","name":"VAR_SMARTITURL","type":"constant","value":"helixdemoash2755-demo-smartit.onbmc.com"},{"description":"","label":"ObsolescenceState","name":"VAR_OBSOLESCENCESTATE","type":"constant","value":"All"},{"description":"","id":9,"label":"Asset Management","name":"VIEW_ASSET_MANAGEMENT","type":"view"}],"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations \u0026 Alerts","type":"dashboard"}]},"description":"Highlights assets that are end of support (EOS)  and/or end of life (EOL) and whether they have been scheduled for remediation","editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":720793,"links":[],"liveNow":false,"panels":[{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"All assets that are associated with the specified portfolio(s), types and status values","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":4,"w":3,"x":0,"y":0},"id":1,"options":{"colorMode":"background_solid","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS NumberofCIs\r\nFROM \r\n          `AST:BaseElement` BE\r\n           INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\nWHERE \r\n   BE.`Data Set Id`  = 'BMC.ASSET'AND\r\n   BE.UserDisplayObjectName  IN ($AssetType) AND \r\n   AP.`Full Name` IN ($Portfolio) AND\r\n   AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by') AND \r\n   BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus) AND\r\n   (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\n","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"{CIType}","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"}],"title":"Total Assets","transparent":true,"type":"stat"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Asset End of Life status","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-orange"}]}},"overrides":[]},"gridPos":{"h":4,"w":6,"x":3,"y":0},"id":2,"options":{"colorMode":"background_solid","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"Missing EOL","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n      COUNT(DISTINCT BE.`Instance Id`) AS `MissingEOL`\r\nFROM \r\n      `AR System Schema`.`AST:BaseElement` BE\r\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n            LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n            ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWHERE \r\n  BE.`Data Set Id`  = 'BMC.ASSET'\r\n  AND BE.UserDisplayObjectName IN ($AssetType)\r\n  AND PMV.`EndOfLife` IS NULL\r\n  AND AP.`Full Name`  IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"$CIType","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Not Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"20aeb662-41eb-0ee0-ddf1-c7796c1149e0","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n          COUNT(DISTINCT BE.`Instance Id`) AS `NotScheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n       ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n          LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n          ON (BE.`Reconciliation Identity` = CA.`Request ID02` )\r\n             LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n             ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n      \r\nWHERE \r\n    BE.`Data Set Id`  = 'BMC.ASSET'\r\n    AND AP.`Full Name` IN ($Portfolio)\r\n    AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n    AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n    AND BE.UserDisplayObjectName  IN ($AssetType)\r\n    AND (CA.`Request ID02` IS NULL OR CHG.`Description` IS NULL OR NOT (CHG.`Description` LIKE '%' + ${CRQKeyword} + '%') OR (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed')))\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0)\r\n    AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"20aeb662-41eb-0ee0-ddf1-c7796c1149e0","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Scheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n     LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` BT_AST_CMDB_ASSOCIATIONS\r\n     ON (BE.`Reconciliation Identity` = BT_AST_CMDB_ASSOCIATIONS.`Request ID02` )\r\n     LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = BT_AST_CMDB_ASSOCIATIONS.`Request ID01`\r\n      \r\nWHERE \r\n    BE.`Data Set Id`  = 'BMC.ASSET'\r\n    AND AP.`Full Name` IN ($Portfolio)\r\n    AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n    AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n    AND BE.UserDisplayObjectName  IN ($AssetType)\r\n    AND (CHG.Description  LIKE '%' + ${CRQKeyword} + '%'))     \r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0)\r\n    AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"}],"title":"End Of Life","transparent":true,"type":"stat"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets matching the selected type, portfolio and status that are still supported or do not have an end of support date","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":4,"w":4,"x":9,"y":0},"id":8,"options":{"colorMode":"background_solid","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Missing EOS","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `MissingEOS`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BE\r\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n             LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n             ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWHERE \r\n   BE.`Data Set Id`  = 'BMC.ASSET'\r\n   AND BE.UserDisplayObjectName  IN ($AssetType)\r\n   AND PMV.`EndOfSupport` IS NULL \r\n   AND PMV.`EndOfExtendedSupport` IS NULL\r\n   AND AP.`Full Name` IN ($Portfolio)\r\n   AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n   AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n   AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"Supported","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Supported`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BE\r\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n             LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n             ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWHERE      \r\n     BE.`Data Set Id`  = 'BMC.ASSET'\r\n     AND BE.UserDisplayObjectName IN ($AssetType) \r\n     AND AP.`Full Name` IN ($Portfolio)\r\n     AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n     AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n     AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003e= 0 OR DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003e= 0 OR DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003e= 0)\r\n     AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"}],"title":"Supported","transparent":true,"type":"stat"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets close to the end of support or extended support. Use the dropdown to specify the number of days that defines close.","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[{"targetBlank":true,"title":"Show Detailed Asset Table","url":"/dashboards/d/ProductLifeCycleAnalysisCMDBDrillRod/cmdb-product-lifecycle-analysis-drillthrough?${__all_variables}\u0026var-ObsolescenceStates=Supported but Close to EOS"}],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":4,"w":5,"x":13,"y":0},"id":10,"options":{"colorMode":"background_solid","graphMode":"area","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"Not Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":" SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `NotScheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n        LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n        ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n          LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n          ON ( BE.`Reconciliation Identity` = CA.`Request ID02` )\r\n            LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n            ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n      \r\nWHERE \r\n   AP.`Full Name` IN ($Portfolio) \r\n    AND BE.`Data Set Id`  = 'BMC.ASSET'\r\n    AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n    AND BE.UserDisplayObjectName  IN ($AssetType)\r\n    AND (CA.`Request ID02` IS NULL OR CHG.`Description` IS NULL OR NOT (CHG.`Description` LIKE '%' + ${CRQKeyword} + '%') OR (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed')))\r\n    AND \r\n     /* (\r\n       (((DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) BETWEEN 0 AND $CloseToEOSDays or PMV.`EndOfSupport` is null)\r\n       AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c $CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL))) \r\n        OR \r\n         (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) BETWEEN 0 AND $CloseToEOSDays)\r\n         AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c $CloseToEOSDays OR PMV.`EndOfSecuritySupport` IS NULL))) \r\n         OR \r\n       ((DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) BETWEEN 0 AND $CloseToEOSDays)\r\n    )))\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL)*/\r\n\r\n \r\n  (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfSupport` IS NULL)\r\n   AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL)\r\n   AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfSecuritySupport` IS NULL)\r\n   AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n   AND  (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003e 0 OR DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003e 0 or DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003e 0)\r\n\r\n\r\n    AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n\r\n\r\n ","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"$CIType","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_CMDB_ASSOCIATIONS_REQUEST_DESCRIPTION01","columnName":"Request Description","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"","logicalTableName":"AST:CMDB Associations","operand":"AND","relationalOperator":"IS_NULL","target_column":"Request Description","target_column_name":"Request Description01","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Scheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02`\r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n         LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n            ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n            ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n              LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n              ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND (BRP.`Source.ClassId` = 'BMC_COMPUTERSYSTEM' OR BRP.`Source.ClassId`IS NULL)\r\n  AND \r\n     (\r\n       ((DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) BETWEEN 0 AND $CloseToEOSDays AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c $CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL))) \r\n        OR \r\n         (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) BETWEEN 0 AND $CloseToEOSDays)AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c $CloseToEOSDays OR PMV.`EndOfSecuritySupport` IS NULL))) \r\n         OR \r\n       ((DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) BETWEEN 0 AND $CloseToEOSDays)\r\n    )))\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e=0\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n  ","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"$CIType","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_CMDB_ASSOCIATIONS_REQUEST_DESCRIPTION01","columnName":"Request Description","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"","logicalTableName":"AST:CMDB Associations","operand":"AND","relationalOperator":"IS_NULL","target_column":"Request Description","target_column_name":"Request Description01","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Failed","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"994adba6-b975-78ba-586f-66f022db6987","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Failed`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02` \r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n           LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            \r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003e 0) AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=$CloseToEOSDays)\r\n  AND (DATEDIFF('day',currentDate(), BE.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n  AND CHG.Description  LIKE '%' + ${CRQKeyword} + '%'\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003c 0\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e= -180\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n    "},"sourceType":"remedy"}],"title":"Near EOS Assets","transparent":true,"type":"stat"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets that are end of support","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-red"}]}},"overrides":[{"matcher":{"id":"byName","options":"Field"},"properties":[{"id":"links","value":[{"title":"Show Asset Details","url":"/dashboards/d/ProductLifeCycleAnalysisCMDBDrillRod/cmdb-product-lifecycle-analysis-drillthrough?${__all_variables}\u0026var-ObsolescenceStates=Support Ended"}]}]}]},"gridPos":{"h":4,"w":6,"x":18,"y":0},"id":26,"options":{"colorMode":"background_solid","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["sum"],"fields":"","values":true},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"Not Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"/* Assets that are out of support without being scheduled */\r\nSELECT\r\n          COUNT(DISTINCT BE.`Reconciliation Identity`) AS `NotScheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n        LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` BT_AST_CMDB_ASSOCIATIONS\r\n        ON ( BE.`Reconciliation Identity` = BT_AST_CMDB_ASSOCIATIONS.`Request ID02` )\r\n          LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n          ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n            ON CHG.`Infrastructure Change ID` = BT_AST_CMDB_ASSOCIATIONS.`Request ID01`\r\n      \r\n\r\nWHERE         \r\n    BE.`Data Set Id`  = 'BMC.ASSET' \r\n    AND BE.UserDisplayObjectName  IN ($AssetType)\r\n    AND AP.`Full Name` IN ($Portfolio)\r\n    AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n    AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n    AND ((BT_AST_CMDB_ASSOCIATIONS.`Request Description01`  IS NULL) OR (CHG.`Description` IS NULL) OR (NOT (CHG.Description  LIKE '%' + ${CRQKeyword} + '%')) OR (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed')))\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n\r\n\r\n","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"$CIType","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_CMDB_ASSOCIATIONS_REQUEST_DESCRIPTION01","columnName":"Request Description","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"","logicalTableName":"AST:CMDB Associations","operand":"AND","relationalOperator":"IS_NULL","target_column":"Request Description","target_column_name":"Request Description01","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"a3c6e01a-7210-a528-e081-854c9b8200ee","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"/* Scheduled For Remediation */\r\nSELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Scheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02`\r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n           LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n             LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n             ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n               LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n               ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (BRP.`Source.ClassId` = 'BMC_COMPUTERSYSTEM' OR BRP.`Source.ClassId`IS NULL)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e=0\r\n  AND CHG.Description  LIKE '%' + ${CRQKeyword} + '%'\r\n  AND NOT (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed'))\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e 0\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n\r\n\r\n  "},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Failed","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"65cd7bf9-8858-76d5-c274-405f6f9da64b","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) AS `Failed`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE\r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02` \r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n           LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            \r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003c 0\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e= -180\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n  ","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"$CIType","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_CMDB_ASSOCIATIONS_REQUEST_DESCRIPTION01","columnName":"Request Description","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"","logicalTableName":"AST:CMDB Associations","operand":"AND","relationalOperator":"IS_NULL","target_column":"Request Description","target_column_name":"Request Description01","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"COUNT","columnId":"BC_AST_BASEELEMENT_NumberofCIs","columnName":"Number of CIs","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"AST:BaseElement","target_column":"Number of CIs","target_column_name":"Instance Id","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":8,"viewName":"Asset Management"}}},"sourceType":"remedy"}],"title":"Support Ended","transformations":[{"id":"reduce","options":{"includeTimeField":false,"mode":"seriesToRows","reducers":["sum"]}}],"transparent":true,"type":"stat"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Uses EOL and EOS dates from the product catalog","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","fillOpacity":80,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineWidth":1,"scaleDistribution":{"type":"linear"},"thresholdsStyle":{"mode":"off"}},"mappings":[{"options":{"EOL Not Defined":{"color":"orange","index":1},"Fully Supported":{"color":"green","index":2},"On Extended Support":{"color":"purple","index":5},"Support Ended":{"color":"red","index":0},"Supported but Close to EOS":{"color":"light-green","index":4},"Supported but EOL":{"color":"blue","index":3}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[]},"gridPos":{"h":13,"w":11,"x":0,"y":4},"id":34,"options":{"barRadius":0,"barWidth":0.97,"colorByField":"LifeCycleExpiry","fullHighlight":true,"groupWidth":0.7,"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"orientation":"auto","showValue":"auto","stacking":"none","tooltip":{"hideZeros":false,"mode":"single","sort":"none"},"xTickLabelRotation":15,"xTickLabelSpacing":0},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"40f830ff-8bb1-4a3d-8de1-7e8d25f5be47","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT DISTINCT\r\nCASE\r\nWHEN PMV.`EndOfLife`IS NULL AND (PMV.`EndOfSupport` IS NULL) AND PMV.EndOfExtendedSupport IS NULL THEN 'EOL Not Defined'\r\nWHEN PMV.`EndOfSupport` IS NULL AND PMV.EndOfExtendedSupport IS NULL AND PMV.EndOfSecuritySupport IS NULL THEN 'EOS Not Defined'\r\nWHEN ((DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife`IS NULL)  AND (DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c 0 OR PMV.`EndOfSupport` IS NULL) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c 0 OR PMV.`EndOfExtendedSupport` IS NULL)) THEN 'Support Ended'\r\nWHEN ((DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c= $CloseToEOSDays) OR (PMV.`EndOfSupport` IS NULL)) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c= $CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL) THEN 'Supported but Close to EOS'\r\nWHEN (DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife`IS NULL) AND DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c= 0 AND DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003e 0 THEN 'On Extended Support'\r\nWHEN DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0  AND DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003e=0 THEN 'Supported but EOL'\r\nELSE 'Fully Supported'\r\nEND AS LifeCycleExpiry,\r\nCount(DISTINCT BE.`Instance Id`) AS  CountOfAssets\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\nGroup By\r\nLifeCycleExpiry\r\n\r\n"},"sourceType":"remedy"}],"title":"End of Support Breakdown","type":"barchart"},{"datasource":{"name":"-- Mixed --","type":"datasource","uid":"-- Mixed --"},"description":"Uses EOL and EOS dates from the product catalog","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":true,"axisCenteredZero":false,"axisColorMode":"series","axisGridShow":true,"axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":44,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineStyle":{"fill":"solid"},"lineWidth":3,"pointSize":10,"scaleDistribution":{"type":"linear"},"showPoints":"always","spanNulls":true,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[{"options":{"EOL Not Defined":{"color":"orange","index":1},"Fully Supported":{"color":"green","index":2},"On Extended Support":{"color":"purple","index":5},"Support Ended":{"color":"red","index":0},"Supported but Close to EOS":{"color":"light-green","index":4},"Supported but EOL":{"color":"blue","index":3}},"type":"value"}],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"AssetsEndOfLife"},"properties":[{"id":"color","value":{"fixedColor":"#162336","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"AssetsEndOfSupport"},"properties":[{"id":"color","value":{"fixedColor":"red","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"SupportExpiryCount"},"properties":[{"id":"custom.lineWidth","value":4}]},{"matcher":{"id":"byName","options":"AssetsEndOfExtendedSupport"},"properties":[{"id":"color","value":{"fixedColor":"orange","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"AssetsEndOfSecuritySupport"},"properties":[{"id":"color","value":{"fixedColor":"purple","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"LifeCycleDate"},"properties":[{"id":"unit","value":"dateTimeFromNow"}]}]},"gridPos":{"h":13,"w":13,"x":11,"y":4},"id":43,"options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"hideZeros":false,"hoverProximity":5,"mode":"multi","sort":"none"}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"SupportExpiry","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"0d596914-a1f3-27e3-17e4-3576b1b10302","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\nCOUNT(DISTINCT BE.`Reconciliation Identity`) AS `SupportExpiryCount`,\r\nCASE\r\nWHEN NOT (PMV.`EndOfSecuritySupport` IS NULL) and PMV.`EndOfSecuritySupport` \u003e PMV.`EndOfSupport` THEN DATE(PMV.`EndOfSecuritySupport`)\r\nWHEN NOT (PMV.`EndOfExtendedSupport` IS NULL) and PMV.`EndOfExtendedSupport` \u003e PMV.`EndOfSupport` THEN DATE(PMV.`EndOfExtendedSupport`)\r\nWHEN NOT (PMV.`EndOfSupport` IS NULL) THEN DATE(PMV.`EndOfSupport`)\r\nELSE DATE(PMV.`EndOfLife`)\r\nEND as SupportExpiryDate\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n       ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` = ('BMC.ASSET')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\ngroup by SupportExpiryDate\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"EndOfLife","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"40f830ff-8bb1-4a3d-8de1-7e8d25f5be47","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\nDate(PMV.EndOfLife) as LifeCycleDate,\r\nCount(DISTINCT BE.`Instance Id`) AS  AssetsEndOfLife\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\nGroup By\r\nLifeCycleDate\r\n\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"EndOfSupport","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"40f830ff-8bb1-4a3d-8de1-7e8d25f5be47","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\nDate(PMV.EndOfSupport) as LifeCycleDate,\r\nCount(DISTINCT BE.`Instance Id`) AS  AssetsEndOfSupport\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\nGroup By\r\nLifeCycleDate\r\n\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"ExtendedSupport","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"40f830ff-8bb1-4a3d-8de1-7e8d25f5be47","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\nDate(PMV.EndOfExtendedSupport) as LifeCycleDate,\r\nCount(DISTINCT BE.`Instance Id`) AS  AssetsEndOfExtendedSupport\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\nGroup By\r\nLifeCycleDate\r\n\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"SecuritySupport","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"40f830ff-8bb1-4a3d-8de1-7e8d25f5be47","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\nDate(PMV.EndOfSecuritySupport) as LifeCycleDate,\r\nCount(DISTINCT BE.`Instance Id`) AS  AssetsEndOfSecuritySupport\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n     LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n     ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nAND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\r\nGroup By\r\nLifeCycleDate\r\n\r\n"},"sourceType":"remedy"}],"title":"End of Support by Date","transformations":[{"id":"merge","options":{}}],"type":"timeseries"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":100,"min":0,"thresholds":{"mode":"percentage","steps":[{"color":"green"}]},"unit":"percent"},"overrides":[{"matcher":{"id":"byName","options":"NotScheduled"},"properties":[{"id":"thresholds","value":{"mode":"percentage","steps":[{"color":"dark-green"},{"color":"dark-yellow","value":5},{"color":"dark-orange","value":15},{"color":"dark-red","value":25}]}}]},{"matcher":{"id":"byName","options":"Scheduled"},"properties":[{"id":"thresholds","value":{"mode":"percentage","steps":[{"color":"dark-red"},{"color":"dark-orange","value":25},{"color":"#EAB839","value":50},{"color":"dark-green","value":75}]}}]},{"matcher":{"id":"byName","options":"MissingEOS"},"properties":[{"id":"thresholds","value":{"mode":"percentage","steps":[{"color":"dark-green"},{"color":"dark-yellow","value":25},{"color":"dark-orange","value":50},{"color":"dark-red","value":75}]}}]},{"matcher":{"id":"byName","options":"Failed"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"dark-green"},{"color":"dark-orange","value":0.2},{"color":"#EAB839","value":0.5},{"color":"dark-red","value":1}]}}]},{"matcher":{"id":"byName","options":"Supported"},"properties":[{"id":"thresholds","value":{"mode":"absolute","steps":[{"color":"dark-red"},{"color":"dark-orange","value":5},{"color":"dark-yellow","value":10},{"color":"dark-green","value":50}]}}]}]},"gridPos":{"h":16,"w":24,"x":0,"y":17},"id":44,"options":{"infinitePan":false,"inlineEditing":true,"panZoom":false,"root":{"background":{"color":{"fixed":"transparent"},"image":{"field":"","fixed":"","mode":"fixed"},"size":"cover"},"border":{"color":{"fixed":"dark-green"}},"elements":[{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"},"width":5},"config":{"align":"center","color":{"fixed":"#000000"},"valign":"middle"},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 18","placement":{"height":542,"left":70,"rotation":0,"top":-2,"width":1180},"type":"rectangle"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"yellow"},"size":20,"text":{"fixed":"Assets Within Support or Extended Support"},"valign":"middle"},"connections":[],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 10","placement":{"height":50,"left":987,"top":23,"width":220},"type":"text"},{"background":{"color":{"field":"NotScheduled","fixed":"#D9D9D9"},"image":{"fixed":""}},"border":{"color":{"fixed":"dark-green"},"width":0},"config":{"align":"center","color":{"fixed":"text"},"size":20,"text":{"field":"NotScheduled","fixed":"","mode":"field"},"valign":"middle"},"connections":[{"color":{"fixed":"dark-green"},"path":"straight","size":{"fixed":2,"max":10,"min":1},"source":{"x":1,"y":0},"sourceOriginal":{"x":294,"y":93.5},"target":{"x":-0.9716312056737588,"y":-0.08771929824561403},"targetName":"Element 2","targetOriginal":{"x":498,"y":45}}],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 1","placement":{"height":59,"left":151,"rotation":0,"top":94,"width":220},"type":"metric-value"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"fill":{"fixed":"dark-green"},"path":{"field":"","fixed":"img/icons/unicons/list-ol-alt.svg","mode":"fixed"}},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 3","placement":{"height":73,"left":619,"top":161,"width":112},"type":"icon"},{"background":{"color":{"field":"Scheduled","fixed":"#D9D9D9"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"text"},"size":20,"text":{"field":"Scheduled","fixed":"","mode":"field"},"valign":"middle"},"connections":[{"color":{"fixed":"dark-green"},"path":"straight","size":{"fixed":2,"max":10,"min":1},"source":{"x":-0.5,"y":-1},"sourceOriginal":{"x":564.5,"y":71},"target":{"x":-0.5,"y":0.84},"targetName":"Element 7","targetOriginal":{"x":570,"y":256}},{"color":{"fixed":"dark-green"},"path":"straight","size":{"fixed":2,"max":10,"min":1},"source":{"x":1,"y":0},"sourceOriginal":{"x":714,"y":93.5},"target":{"x":-0.990908445202074,"y":-0.051125827814569536},"targetName":"Element 6","targetOriginal":{"x":878,"y":95}}],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 2","placement":{"height":59,"left":571,"rotation":0,"top":94,"width":220},"type":"metric-value"},{"background":{"color":{"field":"Supported","fixed":"#D9D9D9"},"image":{"field":"","fixed":"","mode":"fixed"},"size":"contain"},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"#000000"},"size":20,"text":{"field":"Supported","fixed":"","mode":"field"},"valign":"middle"},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 6","placement":{"height":58.984375,"left":987,"rotation":0,"top":94,"width":219.984375},"type":"metric-value"},{"background":{"color":{"field":"Failed","fixed":"#D9D9D9"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"text"},"size":20,"text":{"field":"Failed","fixed":"","mode":"field"},"valign":"middle"},"connections":[{"color":{"fixed":"dark-green"},"path":"straight","size":{"fixed":2,"max":10,"min":1},"source":{"x":0.5,"y":1},"sourceOriginal":{"x":700,"y":252},"target":{"x":0.5177304964539007,"y":-1},"targetName":"Element 2","targetOriginal":{"x":708,"y":121}}],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 7","placement":{"height":59,"left":571,"rotation":0,"top":275,"width":220},"type":"metric-value"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"red"},"size":20,"text":{"fixed":"Assets Needing Remediation"},"valign":"middle"},"connections":[],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 8","placement":{"height":49,"left":157,"top":24,"width":209},"type":"text"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"orange"},"size":20,"text":{"fixed":"Assets That Failed Remediation"},"valign":"middle"},"connections":[],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 9","placement":{"height":50,"left":565,"top":347,"width":226},"type":"text"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"dark-green"},"size":20,"text":{"fixed":"Assets Scheduled For Remediation"},"valign":"middle"},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 11","placement":{"height":50,"left":571,"top":23,"width":220},"type":"text"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"fill":{"fixed":"orange"},"path":{"fixed":"img/icons/unicons/image-broken.svg","mode":"fixed"}},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 12","placement":{"height":100,"left":631,"top":410,"width":100},"type":"icon"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"fill":{"fixed":"yellow"},"path":{"fixed":"img/icons/unicons/sun.svg","mode":"fixed"}},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 13","placement":{"height":100,"left":1047,"top":153,"width":100},"type":"icon"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"fill":{"fixed":"red"},"path":{"fixed":"img/icons/unicons/medical-square-full.svg","mode":"fixed"}},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 14","placement":{"height":100,"left":203,"top":161,"width":100},"type":"icon"},{"background":{"color":{"field":"MissingEOS","fixed":"#D9D9D9"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"#000000"},"size":20,"text":{"field":"MissingEOS","fixed":"","mode":"field"},"valign":"middle"},"connections":[],"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 15","placement":{"height":58,"left":1276,"top":217,"width":220},"type":"metric-value"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"align":"center","color":{"fixed":"dark-blue"},"size":18,"text":{"fixed":"Assets Without End of Support"},"valign":"middle"},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 16","placement":{"height":62,"left":1276,"top":305,"width":220},"type":"text"},{"background":{"color":{"fixed":"transparent"}},"border":{"color":{"fixed":"dark-green"}},"config":{"fill":{"fixed":"dark-blue"},"path":{"fixed":"img/icons/unicons/question-circle.svg","mode":"fixed"}},"constraint":{"horizontal":"left","vertical":"top"},"links":[],"name":"Element 17","placement":{"height":100,"left":1336,"top":372,"width":100},"type":"icon"}],"name":"Element 1765086013517","type":"frame"},"showAdvancedTypes":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"Not Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"2363692a-2dd6-4a7b-d13c-1fbfc0479479","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"/* Assets that are out of support without being scheduled */\r\nSELECT\r\n          COUNT(DISTINCT BE.`Instance Id`) * 100.0 / $AssetsUnderManagement AS `NotScheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n        LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` BT_AST_CMDB_ASSOCIATIONS\r\n        ON ( BE.`Reconciliation Identity` = BT_AST_CMDB_ASSOCIATIONS.`Request ID02` )\r\n          LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n          ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n            ON CHG.`Infrastructure Change ID` = BT_AST_CMDB_ASSOCIATIONS.`Request ID01`\r\n      \r\n\r\nWHERE         \r\n    BE.`Data Set Id`  = 'BMC.ASSET' \r\n    AND BE.UserDisplayObjectName  IN ($AssetType)\r\n    AND AP.`Full Name` IN ($Portfolio)\r\n    AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n    AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n    AND ((BT_AST_CMDB_ASSOCIATIONS.`Request Description01`  IS NULL) OR (CHG.`Description` IS NULL) OR (NOT (CHG.Description  LIKE '%' + ${CRQKeyword} + '%')) OR (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed')))\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n\r\n\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Scheduled","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"09d32fbd-1a18-0581-a282-3362317a3b13","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"/* Scheduled For Remediation */\r\nSELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) * 100.0 / $AssetsNeedingRemediation  AS `Scheduled`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02`\r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n           LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n             LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n             ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n               LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n               ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (BRP.`Source.ClassId` = 'BMC_COMPUTERSYSTEM' OR BRP.`Source.ClassId`IS NULL)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e=0\r\n  AND CHG.Description  LIKE '%' + ${CRQKeyword} + '%'\r\n  AND NOT (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed'))\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e 0\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n\r\n"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Failed","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"09d32fbd-1a18-0581-a282-3362317a3b13","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"/* Failed Remediation */ \r\nSELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) * 100.0 / $AssetsUnderManagement  AS `Failed`\r\n\r\nFROM `AR System Schema`.`AST:BaseElement` BE\r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02` \r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n           LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            \r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN ($AssetType)\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n    AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n    AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003c 0\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e= -180\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n  "},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"Supported","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"08d05b8f-fca5-1a3b-b9eb-389bc5f0a901","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n          COUNT(DISTINCT BE.`Instance Id`) * 100.0 / $AssetsUnderManagement  AS `Supported`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BE\r\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n             LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n             ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWHERE      \r\n     BE.`Data Set Id`  = 'BMC.ASSET'\r\n     AND BE.UserDisplayObjectName IN ($AssetType) \r\n     AND AP.`Full Name` IN ($Portfolio)\r\n     AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n     AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n     AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003e= 0 OR DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003e= 0 OR DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003e= 0)\r\n     AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"hide":false,"refId":"No EOS","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"837182c5-91e2-8031-f8d3-9fd4195896e0","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT \r\n          COUNT(DISTINCT BE.`Instance Id`) * 100.0 / $AssetsUnderManagement AS `MissingEOS`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BE\r\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n             LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n             ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWHERE \r\n   BE.`Data Set Id`  = 'BMC.ASSET'\r\n   AND BE.UserDisplayObjectName  IN ($AssetType)\r\n   AND PMV.`EndOfSupport` IS NULL \r\n   AND PMV.`EndOfExtendedSupport` IS NULL\r\n   AND AP.`Full Name` IN ($Portfolio)\r\n   AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n   AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n   AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')"},"sourceType":"remedy"}],"title":"EOL Remediation Process","type":"canvas"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":33},"id":32,"panels":[],"title":"Remediation","type":"row"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets that have no support or are approaching end of support without an active remediation Change scheduled","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"alignment":"auto","cellOptions":{"type":"auto"},"fontSize":14,"hidden":false,"merge":false,"type":"auto","width":150},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"AssetName"},"properties":[{"id":"custom.width","value":328}]},{"matcher":{"id":"byName","options":"AssetType"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"SerialNumber"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"AssetLifecycleStatus"},"properties":[{"id":"custom.width","value":157}]},{"matcher":{"id":"byName","options":"ManufacturerName"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"EndOfLife"},"properties":[{"id":"custom.width","value":80},{"id":"unit","value":"dateTimeAsIso"}]},{"matcher":{"id":"byName","options":"EndOfSupport"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"EndOfExtendedSupport"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"ChangeID"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"HostName"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"CapabilityList"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"AssetName"},"properties":[{"id":"links","value":[{"targetBlank":true,"title":"Launch ITSM","url":"https://$SmartITURL/smartit/app/#/assetPV/${__data.fields.Instance}/${__data.fields.Class}"}]}]},{"matcher":{"id":"byName","options":"Class"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Instance"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Product"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Version"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"LastScanDate"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"HostRelationship"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeFromNow"}]},{"matcher":{"id":"byName","options":"AssetDescription"},"properties":[{"id":"custom.width","value":336}]}]},"gridPos":{"h":9,"w":12,"x":0,"y":34},"id":46,"options":{"cell":{"autoFillHeight":false,"height":"small","inspect":false,"tooltip":true},"column":{"minWidth":50},"footer":{"fields":[],"pagination":true,"reducer":[],"rowsPerPage":5,"show":true,"showTotalRows":true},"general":{"grid":true,"header":true,"search":true,"sort":true,"transpose":false}},"targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"b5bdd2fc-8264-add9-6940-62bdc0646056","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"\r\n\r\nSELECT DISTINCT\r\n  BE.Name AS `AssetName`,\r\n  BE.`Short Description` AS `AssetDescription`,\r\n  BE.`UserDisplayObjectName` AS `AssetType`,\r\n  BE.`Class Id` AS `Class`,\r\n  BE.`Reconciliation Identity` AS `Instance`,\r\n  BE.`Serial Number` AS `SerialNumber`,\r\n  BE.AssetLifecycleStatus AS `AssetLifecycleStatus`,\r\n  BE.`Model Number` AS `Product`,\r\n  BE.`MarketVersion` AS `Version`,\r\n  BE.`Manufacturer Name+` AS `ManufacturerName`,\r\n  BE.`LastScanDate`,\r\n  PMV.`EndOfLife` AS `EndOfLife`,\r\n  PMV.`EndOfSupport` AS `EndOfSupport`,\r\n  PMV.`EndOfExtendedSupport` AS `EndOfExtendedSupport`,\r\n  MAX(BC.`Name`) AS `HostName`,\r\n  MAX(BC.`CapabilityList`) AS `CapabilityList`,\r\n  MAX(BRP.`ClassId`) as `HostRelationship`\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n       ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n            ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n              LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n              ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n                  LEFT OUTER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n                  ON BE.`Reconciliation Identity` = CA.`Request ID02`\r\n                     LEFT OUTER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n                     ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\nWHERE\r\n   AP.`Full Name` IN ($Portfolio)\r\n   AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n   AND BE.`UserDisplayObjectName` IN ($AssetType)\r\n   AND BE.`Data Set Id` = 'BMC.ASSET' \r\n   AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n   AND (CA.`Request ID02` IS NULL OR CHG.`Description` IS NULL OR NOT (CHG.`Description` LIKE '%' + ${CRQKeyword} + '%') OR (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed')))\r\n   --AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=$CloseToEOSDays OR PMV.`EndOfLife` IS NULL)\r\n   AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfSupport` IS NULL)\r\n   AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL)\r\n   AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfSecuritySupport` IS NULL)\r\n   AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n   AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\nGROUP BY\r\n   BE.Name,\r\n   BE.`Short Description`,\r\n   BE.`UserDisplayObjectName`,\r\n   BE.`Reconciliation Identity`,\r\n   BE.`Class Id`,\r\n   BE.`Serial Number`,\r\n   BE.AssetLifecycleStatus,\r\n   BE.`Model Number`,\r\n   BE.`MarketVersion`,\r\n   BE.`Manufacturer Name+`,\r\n   BE.`LastScanDate`,\r\n   PMV.`EndOfLife`,\r\n   PMV.`EndOfSupport`,\r\n   PMV.`EndOfExtendedSupport`"},"sourceType":"remedy"}],"title":"Assets Needing Remediation","transformations":[{"id":"organize","options":{"excludeByName":{"Instance":false,"LastScanDate":true},"includeByName":{},"indexByName":{},"renameByName":{"AssetDescription":"Description","AssetLifecycleStatus":"Status","AssetName":"Name","AssetType":"Type","Class":"CDM Class","EndOfExtendedSupport":"End Of Extended Support","EndOfLife":"End Of Life","EndOfSupport":"End Of Support","HostName":"Host Server","HostRelationship":"Host Relationship","Instance":"","LastScanDate":"Last Scanned Date","ManufacturerName":"Manufacturer","Product":"","SerialNumber":"Serial Number"}}}],"type":"bmc-table-panel"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets with an upcoming CRQ for updating them to a supported version that are out of support or close to the end of support","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"alignment":"auto","cellOptions":{"type":"auto"},"fontSize":14,"hidden":false,"merge":false,"type":"auto","width":150},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"AssetName"},"properties":[{"id":"custom.width","value":217},{"id":"links","value":[{"title":"","url":"https://$SmartITURL/smartit/app/#/assetPV/${__data.fields.Instance}/${__data.fields.Class}"}]}]},{"matcher":{"id":"byName","options":"EndOfSupport"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"EndOfLife"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"RemediationChangeRequest"},"properties":[{"id":"custom.width","value":253}]},{"matcher":{"id":"byName","options":"AssetType"},"properties":[{"id":"custom.width","value":131}]},{"matcher":{"id":"byName","options":"SerialNumber"},"properties":[{"id":"custom.width","value":169}]},{"matcher":{"id":"byName","options":"AssetLifecycleStatus"},"properties":[{"id":"custom.width","value":136}]},{"matcher":{"id":"byName","options":"ModelOrVersion"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"Version"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"ManufacturerName"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"HostName"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"CapabilityList"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"PrimaryCapability"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"ScheduledStartDate"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"ChangeAssigneeGroup"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Class"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width","value":281}]},{"matcher":{"id":"byName","options":"Instance"},"properties":[{"id":"custom.width","value":80},{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"ChangeSummary"},"properties":[{"id":"custom.width","value":189}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeAsIso"}]},{"matcher":{"id":"byName","options":"Product"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Version"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"LastScanDate"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"AssetDescription"},"properties":[{"id":"custom.width","value":222}]}]},"gridPos":{"h":9,"w":12,"x":12,"y":34},"id":21,"options":{"cell":{"autoFillHeight":false,"height":"small","inspect":false,"tooltip":false},"column":{"minWidth":50},"footer":{"fields":[],"pagination":true,"reducer":[],"rowsPerPage":5,"show":true,"showTotalRows":true},"general":{"grid":true,"header":true,"search":true,"sort":true,"transpose":false}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"16a845b1-d913-9dc3-59e0-632ca7272c4f","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n  BE.Name AS `AssetName`,\r\n  BE.`Short Description` AS `AssetDescription`,\r\n  BE.`UserDisplayObjectName` AS `AssetType`,\r\n  BE.`Class Id` AS `Class`,\r\n  BE.`Serial Number` AS `SerialNumber`,\r\n  BE.AssetLifecycleStatus AS `AssetLifecycleStatus`,\r\n  BE.`Reconciliation Identity` AS `Instance`,\r\n  BE.`Model Number` AS `Product`,\r\n  BE.`MarketVersion` AS `Version`,\r\n  BE.`Manufacturer Name+` AS `ManufacturerName`,\r\n  BE.`LastScanDate`,\r\n  PMV.`EndOfLife` AS `EndOfLife`,\r\n  PMV.`EndOfSupport` AS `EndOfSupport`,\r\n  CHG.`Description` AS 'ChangeSummary',\r\n  CHG.`Scheduled Start Date` AS `ScheduledStartDate`,\r\n  CHG.ASGRP AS `ChangeAssigneeGroup`,\r\n  MAX(BC.`Name`) AS `HostName`,\r\n  MAX(BC.`CapabilityList`) AS `CapabilityList`\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02` \r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n          LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n          ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n            ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n              LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n              ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN  ($AssetType)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name`  IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife` IS NULL)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=0 OR PMV.`EndOfSupport` IS NULL)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=0 OR PMV.`EndOfExtendedSupport` IS NULL)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfSecuritySupport`) \u003c=0 OR PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND NOT (PMV.`EndOfLife` IS NULL AND PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL AND PMV.`EndOfSecuritySupport` IS NULL)\r\n  AND CHG.Description  LIKE '%' + ${CRQKeyword} + '%'\r\n  AND NOT (CHG.`Change Request Status` IN ('Cancelled','Completed','Closed'))\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e= 0\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n  GROUP BY\r\n    BE.Name,\r\n    BE.`Short Description`,\r\n    BE.`UserDisplayObjectName`,\r\n    BE.`Class Id`,\r\n    BE.`Serial Number`,\r\n    BE.AssetLifecycleStatus,\r\n    BE.`Reconciliation Identity`,\r\n    BE.`Model Number`,\r\n    BE.`MarketVersion`,\r\n    BE.`Manufacturer Name+`,\r\n    BE.`LastScanDate`,\r\n    PMV.`EndOfLife`,\r\n    PMV.`EndOfSupport`,\r\n    CHG.`Description`,\r\n    CHG.`Scheduled Start Date`,\r\n    CHG.ASGRP"},"sourceType":"remedy"}],"title":"Assets where Remediation is Scheduled","transformations":[{"id":"organize","options":{"excludeByName":{},"includeByName":{},"indexByName":{"AssetDescription":1,"AssetLifecycleStatus":6,"AssetName":0,"AssetType":3,"CapabilityList":17,"ChangeAssigneeGroup":15,"ChangeSummary":2,"Class":4,"EndOfLife":12,"EndOfSupport":13,"HostName":16,"Instance":7,"LastScanDate":11,"ManufacturerName":10,"Product":8,"ScheduledStartDate":14,"SerialNumber":5,"Version":9},"renameByName":{}}}],"type":"bmc-table-panel"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets that have no support or are approaching end of support with a remediation Change that was scheduled to be completed in the last 180 days","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"alignment":"auto","cellOptions":{"type":"auto"},"fontSize":14,"hidden":false,"merge":false,"type":"auto","width":150},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"CIName"},"properties":[{"id":"custom.width","value":188},{"id":"links","value":[{"title":"","url":"https://csmasean-demo-smartit.onbmc.com/smartit/app/#/assetPV/${__data.fields.Instance}/${__data.fields.Class}"}]}]},{"matcher":{"id":"byName","options":"EndOfSupport"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"EndOfLife"},"properties":[{"id":"custom.width","value":188}]},{"matcher":{"id":"byName","options":"RemediationChangeRequest"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"AssetType"},"properties":[{"id":"custom.width","value":131}]},{"matcher":{"id":"byName","options":"SerialNumber"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"AssetLifecycleStatus"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"ModelOrVersion"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"MarketVersion"},"properties":[{"id":"custom.width","value":193}]},{"matcher":{"id":"byName","options":"ManufacturerName"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Relationship"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"HostName"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"CapabilityList"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"PrimaryCapability"},"properties":[{"id":"custom.width","value":157}]},{"matcher":{"id":"byName","options":"RemediationCRQStatus"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"ScheduledStartDate"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"ChangeAssigneeGroup"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeAsIso"}]},{"matcher":{"id":"byName","options":"EndOfExtendedSupport"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"ScheduledEndDate"},"properties":[{"id":"custom.width"}]},{"matcher":{"id":"byName","options":"Class"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Instance"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"LastScanDate"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Product"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Version"},"properties":[{"id":"custom.width","value":161}]},{"matcher":{"id":"byName","options":"Role"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Portfolio"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"HostRelationship"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"AssetDescription"},"properties":[{"id":"custom.width","value":312}]},{"matcher":{"id":"byName","options":"Manufacturer"},"properties":[{"id":"custom.width","value":80}]},{"matcher":{"id":"byName","options":"Change_Request_Summary"},"properties":[{"id":"custom.width","value":80}]}]},"gridPos":{"h":8,"w":12,"x":0,"y":43},"id":27,"options":{"cell":{"autoFillHeight":false,"height":"small","inspect":false,"tooltip":false},"column":{"minWidth":50},"footer":{"fields":[],"pagination":true,"reducer":[],"rowsPerPage":5,"show":true,"showTotalRows":true},"general":{"grid":true,"header":true,"search":true,"sort":true,"transpose":false}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"16a845b1-d913-9dc3-59e0-632ca7272c4f","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT\r\n  BE.Name AS `CIName`,\r\n  BE.`Short Description` AS `AssetDescription`,\r\n  BE.`UserDisplayObjectName` AS `AssetType`,\r\n  BE.`Serial Number` AS `SerialNumber`,\r\n  BE.`Class Id` AS `Class`,\r\n  BE.`Reconciliation Identity` AS `Instance`,\r\n  BE.AssetLifecycleStatus AS `AssetLifecycleStatus`,\r\n  BE.`Model Number` AS `Product`,\r\n  BE.`MarketVersion` AS `Version`,\r\n  BE.`Manufacturer Name+` AS `Manufacturer`,\r\n  BE.`LastScanDate`,\r\n  PMV.`EndOfLife` AS `EndOfLife`,\r\n  PMV.`EndOfSupport` AS `EndOfSupport`,\r\n  PMV.`EndOfExtendedSupport` AS `EndOfExtendedSupport`,\r\n  MAX(BC.`Name`) AS `HostName`,\r\n  MAX(BC.`CapabilityList`) AS `CapabilityList`,\r\n  MAX(BRP.`Name`) AS `HostRelationship`,\r\n  MAX(CHG.`Description`) AS `Change_Request_Summary`,\r\n  MAX(CHG.`Scheduled Start Date`) AS `ScheduledStartDate`,\r\n  MAX(CHG.`Scheduled End Date`) AS `ScheduledEndDate`,\r\n  MAX(CHG.ASGRP) AS `ChangeAssigneeGroup`\r\nFROM `AR System Schema`.`AST:BaseElement` BE   \r\n     INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       INNER JOIN `AR System Schema`.`AST:CMDB Associations` CA\r\n       ON BE.`Reconciliation Identity` = CA.`Request ID02` \r\n         INNER JOIN `AR System Schema`.`CHG:Infrastructure Change` CHG\r\n         ON CHG.`Infrastructure Change ID` = CA.`Request ID01`\r\n         LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n           ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\n            LEFT OUTER JOIN `AR System Schema`.`BMC.CORE:BMC_BaseRelationship` BRP\r\n            ON ( BE.`Instance Id` = BRP.`Destination.InstanceId`)\r\n              LEFT OUTER JOIN `AR System Schema`.`AST:ComputerSystem` BC\r\n              ON (BRP.`Source.InstanceId`  =  BC.`Instance Id`) AND ( BE.`Data Set Id`  =  BC.`Data Set Id` )\r\n\r\nWHERE\r\n  BE.`UserDisplayObjectName` IN  ($AssetType)\r\n  AND BE.`Data Set Id` = 'BMC.ASSET'\r\n  AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\n  AND CA.`Request Type01` = 'Infrastructure Change'\r\n  AND AP.`Full Name` IN ($Portfolio)\r\n  AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfSupport`) \u003c=$CloseToEOSDays)\r\n  AND (DATEDIFF('day',currentDate(), PMV.`EndOfExtendedSupport`) \u003c=$CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL)\r\n  AND CHG.Description  LIKE '%' + ${CRQKeyword} + '%'\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003c 0\r\n  AND DATEDIFF('day', currentDate(), CHG.`Scheduled End Date`) \u003e -180\r\n  AND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted` = 'No')\r\n GROUP BY\r\n  BE.Name,\r\n  BE.`Short Description`,\r\n  BE.`UserDisplayObjectName`,\r\n  BE.`Serial Number`,\r\n  BE.`Class Id`,\r\n  BE.`Reconciliation Identity`,\r\n  BE.AssetLifecycleStatus,\r\n  BE.`Model Number`,\r\n  BE.`MarketVersion` ,\r\n  BE.`Manufacturer Name+`,\r\n  BE.`LastScanDate`,\r\n  PMV.`EndOfLife`,\r\n  PMV.`EndOfSupport`,\r\n  PMV.`EndOfExtendedSupport`\r\n  "},"sourceType":"remedy"}],"title":"Assets where Remediation Failed","type":"bmc-table-panel"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Change Requests that include the text $CRQKeyword in their description","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"alignment":"auto","cellOptions":{"type":"auto"},"fontSize":14,"hidden":false,"merge":false,"type":"auto","width":150},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"ScheduledStartDate"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"ScheduledEndDate"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeAsIso"}]},{"matcher":{"id":"byName","options":"ChangeRequestStatus"},"properties":[{"id":"custom.width","value":145}]},{"matcher":{"id":"byName","options":"InfrastructureChangeID"},"properties":[{"id":"custom.width","value":170}]},{"matcher":{"id":"byName","options":"AssigneeOrganization"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"AssigneeGroup"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"Assignee"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"Description"},"properties":[{"id":"custom.width","value":341}]},{"matcher":{"id":"byName","options":"Site"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"ChangeType"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"SupportGroupName"},"properties":[{"id":"custom.width","value":150}]},{"matcher":{"id":"byName","options":"InfrastructureChangeID"},"properties":[{"id":"links","value":[{"targetBlank":true,"title":"","url":"https://$SmartITURL/smartit/app/#/changePV/${__data.fields.Instance}"}]}]},{"matcher":{"id":"byName","options":"Instance"},"properties":[{"id":"custom.hidden","value":true},{"id":"custom.width"}]}]},"gridPos":{"h":8,"w":12,"x":12,"y":43},"id":16,"options":{"cell":{"autoFillHeight":false,"height":"small","inspect":false,"tooltip":false},"column":{"minWidth":50},"footer":{"fields":[],"pagination":true,"reducer":[],"rowsPerPage":5,"show":true,"showTotalRows":true},"general":{"grid":true,"header":true,"search":true,"sort":true,"transpose":false}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"3814b201-1599-7df0-b529-2b31f40fcea9","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT DISTINCT \r\n          BT_CHG_INFRASTRUCTURE_CHANGE.`Infrastructure Change ID` AS `InfrastructureChangeID`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`Change Request Status` AS `ChangeRequestStatus`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.ASORG AS `AssigneeOrganization`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.ASGRP AS `AssigneeGroup`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.ASCHG AS `Assignee`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`Scheduled Start Date` AS `ScheduledStartDate`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`Scheduled End Date` AS `ScheduledEndDate`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.Description AS `Description`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.Site AS `Site`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`Change Type` AS `ChangeType`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`Support Group Name` AS `SupportGroupName`\r\n         ,BT_CHG_INFRASTRUCTURE_CHANGE.`InstanceId` AS `Instance`\r\nFROM \r\n          `AR System Schema`.`CHG:Infrastructure Change` BT_CHG_INFRASTRUCTURE_CHANGE\r\nWHERE \r\n        (\r\n          (\r\n              BT_CHG_INFRASTRUCTURE_CHANGE.Description LIKE '%' + ${CRQKeyword} + '%'\r\n          )\r\n          AND NOT (BT_CHG_INFRASTRUCTURE_CHANGE.`Change Request Status` IN ('Cancelled','Completed','Closed'))\r\n        )\r\n","view":{"filters":[{"aggregation":"NONE","columnId":"CHG_DESCRIPTION","columnName":"Description","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"EOL Remediation","logicalTableName":"CHG:Infrastructure Change","operand":"AND","relationalOperator":"BEGINS_WITH","target_column":"Description","target_column_name":"Description","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"NONE","columnId":"BC_CHG_INFRASTRUCTURE_CHANGE_MonthSubmitDate","columnName":"Month - Submit Date","datatype":"NUMERIC","fieldtype":"FACT","logicalTableName":"CHG:Infrastructure Change","target_column":"Month - Submit Date","target_column_name":"MONTH(\"BT_CHG_INFRASTRUCTURE_CHANGE\".\"Submit Date\")","target_column_type":"OPEN_FORMULA"},{"aggregation":"NONE","columnId":"CHG_CHANGE_REQUEST_STATUS","columnName":"Change Request Status","datatype":"STRING","fieldtype":"OTHER","logicalTableName":"CHG:Infrastructure Change","target_column":"Change Request Status","target_column_name":"Change Request Status","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_CHANGE_ID","columnName":"Infrastructure Change ID","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Infrastructure Change ID","target_column_name":"Infrastructure Change ID","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_ASORG","columnName":"Assignee Organization","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Assignee Organization","target_column_name":"ASORG","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_ASGRP","columnName":"Assignee Group","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Assignee Group","target_column_name":"ASGRP","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_ASCHG","columnName":"Assignee","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Assignee","target_column_name":"ASCHG","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_SCHEDULED_START_DATE","columnName":"Scheduled Start Date","datatype":"DATE","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Scheduled Start Date","target_column_name":"Scheduled Start Date","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_DESCRIPTION","columnName":"Description","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Description","target_column_name":"Description","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_SITE","columnName":"Site","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Site","target_column_name":"Site","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_CHANGE_TYPE","columnName":"Change Type","datatype":"STRING","fieldtype":"OTHER","logicalTableName":"CHG:Infrastructure Change","target_column":"Change Type","target_column_name":"Change Type","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"CHG_SUPPORT_GROUP_NAME","columnName":"Support Group Name","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"CHG:Infrastructure Change","target_column":"Support Group Name","target_column_name":"Support Group Name","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":2,"viewName":"Change Management"}}},"sourceType":"remedy"}],"title":"Remediation Change Requests","type":"bmc-table-panel"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":51},"id":36,"panels":[],"title":"Portfolio EOL / EOS Details","type":"row"},{"datasource":{"default":false,"type":"datasource","uid":"-- Dashboard --"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[{"options":{"Fully Supported":{"color":"green","index":1},"Support Ended":{"color":"red","index":0}},"type":"value"}]},"overrides":[{"matcher":{"id":"byName","options":"CountOfAssets (lastNotNull)"},"properties":[{"id":"links","value":[{"targetBlank":false,"title":"Show Detailed Asset Table","url":"/d/ProductLifeCycleAnalysisCMDBRod/obsolescence-dashboard?orgId=$__org\u0026var-ObsolescenceState=${__data.fields[\"LifeCycleExpiry\"]}"}]}]},{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["CountOfAssets (lastNotNull)"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]},{"matcher":{"id":"byName","options":"Supported but EOL"},"properties":[{"id":"color","value":{"fixedColor":"blue","mode":"fixed"}}]}]},"gridPos":{"h":11,"w":8,"x":0,"y":52},"id":39,"options":{"displayLabels":[],"legend":{"displayMode":"list","placement":"right","showLegend":true,"values":["percent"]},"pieType":"donut","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^CountOfAssets \\(lastNotNull\\)$/","values":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"targets":[{"datasource":{"type":"datasource","uid":"-- Dashboard --"},"panelId":34,"refId":"A"}],"title":"End of Life Breakdown","transformations":[{"id":"groupBy","options":{"fields":{"CountOfAssets":{"aggregations":["lastNotNull"],"operation":"aggregate"},"LifeCycleExpiry":{"aggregations":[],"operation":"groupby"}}}},{"disabled":true,"id":"organize","options":{}},{"id":"sortBy","options":{"fields":{},"sort":[{"desc":true,"field":"CountOfAssets"}]}}],"type":"piechart"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto","wrapText":true},"filterable":true,"inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"LifeCycleExpiry"},"properties":[{"id":"custom.width","value":142}]},{"matcher":{"id":"byName","options":"AssetName"},"properties":[{"id":"custom.width","value":201}]},{"matcher":{"id":"byName","options":"AssetType"},"properties":[]},{"matcher":{"id":"byName","options":"Class"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Instance"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"AssetName"},"properties":[{"id":"links","value":[{"title":"","url":"https://$SmartITURL/smartit/app/#/assetPV/${__data.fields.Instance}/${__data.fields.Class}"}]}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeFromNow"}]},{"matcher":{"id":"byName","options":"SupportExpiryDate"},"properties":[]},{"matcher":{"id":"byName","options":"EndOfLife"},"properties":[]},{"matcher":{"id":"byName","options":"AssetStatus"},"properties":[{"id":"custom.width","value":114}]},{"matcher":{"id":"byName","options":"AssetDescription"},"properties":[{"id":"custom.width","value":303}]}]},"gridPos":{"h":11,"w":16,"x":8,"y":52},"id":28,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["sum"],"show":false},"showHeader":true,"sortBy":[]},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"888d0fc0-bb1f-88a0-ef10-4db9254b9ae2","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT DISTINCT\r\nBE.`Name` AS  `AssetName`,\r\nBE.`Short Description` AS `AssetDescription`,\r\nBE.`UserDisplayObjectName` AS `AssetType`,\r\nBE.`Class Id` AS `Class`,\r\nBE.AssetLifecycleStatus AS `AssetStatus`,\r\nBE.`Reconciliation Identity` AS `Instance`,\r\nCASE\r\nWHEN PMV.`EndOfLife`IS NULL AND (PMV.`EndOfSupport` IS NULL) AND PMV.EndOfExtendedSupport IS NULL THEN 'EOL Not Defined'\r\nWHEN PMV.`EndOfSupport` IS NULL AND PMV.EndOfExtendedSupport IS NULL THEN 'EOS Not Defined'\r\nWHEN (DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0 OR PMV.`EndOfLife`IS NULL)  AND (DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c 0 OR PMV.`EndOfSupport` IS NULL) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c 0 OR PMV.`EndOfExtendedSupport` IS NULL) THEN 'Support Ended'\r\nWHEN (DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c= 0 OR PMV.`EndOfLife`IS NULL) AND DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c 0 AND DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003e 0 THEN 'On Extended Support'\r\nWHEN ((DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c= $CloseToEOSDays) OR (PMV.`EndOfSupport` IS NULL)) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c= $CloseToEOSDays OR PMV.`EndOfExtendedSupport` IS NULL) THEN 'Supported but Close to EOS'\r\nWHEN DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0  AND DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003e=0 THEN 'Supported but EOL'\r\nELSE 'Fully Supported'\r\nEND AS LifeCycleExpiry,\r\nCASE\r\nWHEN PMV.`EndOfLife`IS NULL AND (PMV.`EndOfSupport` IS NULL) THEN PMV.`EndOfSecuritySupport`\r\nWHEN PMV.`EndOfSupport` IS NULL AND PMV.`EndOfExtendedSupport` IS NULL THEN PMV.`EndOfSecuritySupport`\r\nWHEN PMV.`EndOfSupport` IS NULL AND NOT (PMV.`EndOfLife`IS NULL) THEN PMV.`EndOfLife`\r\nWHEN NOT (PMV.`EndOfExtendedSupport` IS NULL) AND PMV.`EndOfExtendedSupport` \u003e PMV.`EndOfSupport` THEN PMV.`EndOfExtendedSupport`\r\nWHEN NOT (PMV.`EndOfSupport` IS NULL) THEN PMV.`EndOfSupport`\r\nELSE PMV.`EndOfSecuritySupport`\r\nEND AS SupportExpiryDate,\r\nBE.`EndOfLife`\r\nFROM\r\n`AST:BaseElement` BE\r\n  INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\r\n     ON BE.`Reconciliation Identity` = AP.AssetInstanceId\r\n       LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\r\n       ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\r\nWhere \r\nBE.`Data Set Id` IN ('BMC.ASSET')\r\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\r\nand BE.`UserDisplayObjectName` IN ($AssetType)\r\nAND AP.`Full Name` IN ($Portfolio)\r\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\r\nAND (BE.`Mark As Deleted` is NULL OR BE.`Mark As Deleted`= 'No')\r\nAND ($ObsolescenceState = 'All' OR LifeCycleExpiry = $ObsolescenceState)\r\nORDER BY LifeCycleExpiry, BE.Name\r\n"},"sourceType":"remedy"}],"title":"Breakdown Detail for $ObsolescenceState","transformations":[{"disabled":true,"id":"organize","options":{}},{"id":"sortBy","options":{"fields":{},"sort":[{"desc":true,"field":"SupportExpiryDate"}]}}],"type":"table"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":63},"id":35,"panels":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Assets within the portfolio and their corresponding catalog categorization and EOL / EOS dates.","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Tier1"},"properties":[]},{"matcher":{"id":"byName","options":"State"},"properties":[]},{"matcher":{"id":"byName","options":"CMDB_Product"},"properties":[]},{"matcher":{"id":"byName","options":"Tier3"},"properties":[]}]},"gridPos":{"h":11,"w":11,"x":0,"y":62},"id":33,"options":{"displayMode":"basic","legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":false},"maxVizHeight":300,"minVizHeight":16,"minVizWidth":8,"namePlacement":"auto","orientation":"horizontal","reduceOptions":{"calcs":["sum"],"fields":"","values":true},"showUnfilled":true,"sizing":"auto","valueMode":"color"},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":false,"hideSort":false,"maxEntries":100,"meta":{"hideJson":false,"hideSql":true,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"SELECT DISTINCT\n`PDL:ProductModelVersion`.`Product Categorization Tier 1` AS 'C1',\n`PDL:ProductModelVersion`.`Product Categorization Tier 2` AS 'C2',\n`PDL:ProductModelVersion`.`Product Categorization Tier 3` AS 'C3',\n`PDL:ProductModelVersion`.`Product Model/Version` AS 'C4',\n`PDL:ProductModelVersion`.`EndOfSupport` AS 'C5',\n`PDL:ProductModelVersion`.`EndOfLife` AS 'C6',\n`PDL:ProductModelVersion`.`EndOfExtendedSupport` AS 'C7',\n`PDL:ProductModelVersion`.`Manufacturer` AS 'C8',\n`PDL:ProductModelVersion`.`Product Name` AS 'C9',\n`PDL:ProductModelVersion`.`Product Model/Version State` AS 'C10',\n`PDL:ProductModelVersion`.`Market Version` AS 'C11',\n`PDL:ProductModelVersion`.`ProdCatInstanceID` AS 'C12',\n`PDL:ProductModelVersion`.`Product ID*` AS 'C13'\nFROM\n`PDL:ProductModelVersion` \nWHERE \n(\n`PDL:ProductModelVersion`.`Product Status` = 'Enabled' \n\n)\nORDER BY\n`PDL:ProductModelVersion`.`Product Categorization Tier 1` ASC,\n`PDL:ProductModelVersion`.`Product Categorization Tier 2` ASC,\n`PDL:ProductModelVersion`.`Product Categorization Tier 3` ASC\n \nLIMIT 100","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"PDL:ProductModelVersion -\u003e Product Status","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":"Enabled"},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 1","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C2","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 2","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C3","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 3","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C4","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Model/Version","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C5","selectionColumnName":"PDL:ProductModelVersion -\u003e EndOfSupport","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C6","selectionColumnName":"PDL:ProductModelVersion -\u003e EndOfLife","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C7","selectionColumnName":"PDL:ProductModelVersion -\u003e EndOfExtendedSupport","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C8","selectionColumnName":"PDL:ProductModelVersion -\u003e Manufacturer","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C9","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Name","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C10","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Model/Version State","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C11","selectionColumnName":"PDL:ProductModelVersion -\u003e Market Version","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C12","selectionColumnName":"PDL:ProductModelVersion -\u003e ProdCatInstanceID","selectionSrcAlias":"","selectionType":"Field"},{"selectionAlias":"C13","selectionColumnName":"PDL:ProductModelVersion -\u003e Product ID*","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 1","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"},{"sortOperand":{"selectionAlias":"","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 2","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"},{"sortOperand":{"selectionAlias":"","selectionColumnName":"PDL:ProductModelVersion -\u003e Product Categorization Tier 3","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"PDL:ProductModelVersion","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"267908c2-b31f-106f-ed74-44f09836bf8c","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT DISTINCT\nBE.`Manufacturer Name+` + ' ' + BE.`Model Number` + ' ' + BE.`Version Number` as `CMDB_Product`,\nPMV.`Product Categorization Tier 1` AS 'Tier1',\nPMV.`Product Categorization Tier 2` AS 'Tier2',\nPMV.`Product Categorization Tier 3` AS 'Tier3',\nPMV.`EndOfSupport` AS 'EndOfSupport',\nPMV.`EndOfLife` AS 'EndOfLife',\nPMV.`EndOfExtendedSupport` AS 'EndOfExtendedSupport',\nPMV.`Product Model/Version State` AS 'State',\nPMV.`Market Version` AS 'MarketVersion',\nCOUNT(BE.`Instance Id`) AS `NumberofCIs`\nFROM\n    `AR System Schema`.`AST:BaseElement` BE\n          INNER JOIN `AR System Schema`.`AST:AssetPeople` AP\n          ON BE.`Reconciliation Identity` = AP.AssetInstanceId\n             LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV\n             ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`\nWHERE \n(\nBE.`Data Set Id` IN ('BMC.ASSET')\nAND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)\nand BE.`UserDisplayObjectName` IN ($AssetType)\nAND AP.`Full Name` IN ($Portfolio)\nAND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by')\n)\nAND BE.`Mark As Deleted` is NULL\nGROUP BY\n`CMDB_Product`,\nPMV.`Product Categorization Tier 1`,\nPMV.`Product Categorization Tier 2`,\nPMV.`Product Categorization Tier 3`,\nPMV.`EndOfSupport`,\nPMV.`EndOfLife`,\nPMV.`EndOfExtendedSupport`,\nPMV.`Product Model/Version State`,\nPMV.`Market Version`\nORDER BY\nNumberofCIs desc\n \n"},"sourceType":"remedy"}],"title":"Assets By Catalog Entry","transformations":[{"id":"organize","options":{"excludeByName":{"EndOfExtendedSupport":true,"EndOfLife":true,"EndOfSupport":true,"Manufacturer":true,"MarketVersion":true,"Product":true,"State":true,"Tier1":true,"Tier2":true,"Tier3":true,"Version":true},"includeByName":{},"indexByName":{},"renameByName":{}}}],"type":"bargauge"},{"datasource":{"default":false,"type":"datasource","uid":"-- Dashboard --"},"description":"Restricted to assets of the selected class and within the portfolio","fieldConfig":{"defaults":{"color":{"mode":"palette-classic-by-name"},"custom":{"align":"auto","cellOptions":{"type":"auto","wrapText":true},"filterable":true,"inspect":false},"mappings":[],"noValue":"Missing","thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Tier1"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Tier2"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Tier3"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"CMDB_Product"},"properties":[{"id":"custom.width","value":253}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeFromNow"}]}]},"gridPos":{"h":11,"w":13,"x":11,"y":62},"id":41,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":["NumberofCIs"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"datasource","uid":"-- Dashboard --"},"panelId":33,"refId":"A"}],"title":"Detailed List of Catalog Entries","type":"table"},{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"List of assets in the Discovery dataset that do not have their EOS dates equivalent to entries in the product catalog","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[]},"overrides":[{"matcher":{"id":"byName","options":"Product Model/Version"},"properties":[]},{"matcher":{"id":"byName","options":"Microsoft Internet Explorer 11.0.9600.18123"},"properties":[{"id":"color","value":{"fixedColor":"blue","mode":"fixed"}}]},{"matcher":{"id":"byName","options":"Microsoft IIS Webserver 8.5"},"properties":[{"id":"color","value":{"fixedColor":"#429b39","mode":"fixed"}}]}]},"gridPos":{"h":10,"w":11,"x":0,"y":73},"id":37,"options":{"displayLabels":["value"],"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"donut","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"dbcd3c90-d400-4a21-15b2-2a341fcb93bc","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT   \r\n PMV.`Product Name` as `Product`,   \r\n PMV.`Manufacturer`,   \r\n PMV.`Product Model/Version` as `Version`,   \r\n BE.`EndOfLife` AS `BE_EndOfLife`,   \r\n PMV.`EndOfLife` AS `CAT_EndOfLife`,   \r\n BE.`EndOfSupport` AS `BE_EOS`,   \r\n PMV.`EndOfSupport` as `CAT_EOS`,\r\n BE.`NormalizationStatus` as `Normalization`,\r\n 'Inconsistent' AS `Data_Issue`,\r\n COUNT(DISTINCT BE.`InstanceId`) as `InconsistentCIs`\r\n FROM `PCT:Product Model-Version` PMV   \r\n LEFT OUTER JOIN `BMC.CORE:BMC_BaseElement` BE   \r\n  ON PMV.`Product Name` = BE.`Model`    \r\n     AND PMV.`Manufacturer` = BE.`ManufacturerName`    \r\n     AND PMV.`Product Model/Version` = BE.`VersionNumber`   \r\n WHERE BE.`DatasetId` = 'BMC.ADDM' AND BE.`EndOfSupport` IS NOT NULL AND PMV.`EndOfSupport` \u003c\u003e BE.`EndOfSupport`\r\n GROUP BY PMV.`Product Name`, PMV.`Manufacturer`, PMV.`Product Model/Version`,\r\n BE.`EndOfLife`,   \r\n PMV.`EndOfLife`,   \r\n BE.`EndOfSupport`,   \r\n PMV.`EndOfSupport`,\r\n BE.`NormalizationStatus`\r\n order by `InconsistentCIs` desc"},"sourceType":"remedy"}],"title":"Inconsistent EOL/EOS Data","transformations":[{"id":"organize","options":{"excludeByName":{"BE_EOS":true,"BE_EndOfLife":true,"CAT_EOS":true,"CAT_EndOfLife":true,"Data_Issue":true,"Manufacturer":true,"Normalization":true},"includeByName":{},"indexByName":{"BE_EOS":5,"BE_EndOfLife":3,"CAT_EOS":6,"CAT_EndOfLife":4,"Data_Issue":8,"InconsistentCIs":9,"Manufacturer":0,"Normalization":7,"Product":1,"Version":2},"renameByName":{}}}],"type":"piechart"},{"datasource":{"default":false,"type":"datasource","uid":"-- Dashboard --"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto"},"inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":13,"x":11,"y":73},"id":40,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["sum"],"show":true},"showHeader":true},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"datasource","uid":"-- Dashboard --"},"panelId":37,"refId":"A"}],"title":"List of Inconsistent EOL/EOS Assets","type":"table"},{"datasource":{"default":true,"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"description":"Discovery Assets that have EOS or EOL values but do not have equivalent catalog entries. ","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"noValue":"No issues found"},"overrides":[{"matcher":{"id":"byName","options":"Product"},"properties":[]}]},"gridPos":{"h":10,"w":11,"x":0,"y":83},"id":38,"options":{"displayLabels":["value"],"legend":{"displayMode":"list","placement":"right","showLegend":true},"pieType":"donut","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":true},"tooltip":{"hideZeros":false,"mode":"single","sort":"none"}},"pluginVersion":"11.2.2","targets":[{"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"refId":"A","sourceQuery":{"dstType":"SERVER","form":{"calculatedFieldList":[{"hideCalculatedField":true,"selectionAggregation":false,"selectionAlias":"CF1","selectionCalculatedFieldName":"","selectionCalculatedFields":"Select Calculated Field","selectionQuery":"Select Column Name"}],"dstType":"SERVER","groupByField":[{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"havingQualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"hideGroupBy":true,"hideHaving":true,"hideQual":true,"hideSort":true,"maxEntries":100,"meta":{"hideJson":false,"hideSql":false,"metaCalculatedFields":[],"metaColumnNames":[],"metaFullFormNames":[],"metaGroupNames":[],"rawJson":"","rawSql":"","syncToSql":false},"outputNumMatches":true,"qualification":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Value","fieldValue":""},"showGroup":false,"splitGroup":false}],"selectionList":[{"selectionAlias":"C1","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"}],"sortField":[{"sortOperand":{"selectionAlias":"","selectionColumnName":"Select Column Name","selectionSrcAlias":"","selectionType":"Field"},"sortOrder":"ASC"}],"sourceList":[{"sourceAlias":"","sourceFormName":"Select Form Name","sourceHideClause":false,"sourceJoinClause":[{"collapseGroup":true,"groupCounter":1,"groupHierarchy":"G1","leftOperand":{"fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","isCalcField":false},"logicalOperator":"","qualificationType":"Relational","relationalOperator":"Equal","rightOperand":{"fieldDataType":"CHAR","fieldName":"Select Column Name","fieldSourceAlias":"","fieldType":"Field","fieldValue":""},"showGroup":false,"splitGroup":false}],"sourceType":"Form"}],"startEntry":0,"useAlias":true,"useDistinct":true,"useLocale":true,"useOneEqualOne":false},"formatAs":"Table","guid":"8e1288ff-104e-eb87-747b-d3d4bc5e4db0","header":{"headerList":[{"arKey":"date_format","arType":"body","collapseHeader":false,"dataType":"string","text":"Date Format","value":"DD/MM/YYYY"}],"hideHeader":true},"queryType":"SQL","rawQuery":"SELECT   \r\n BE.`Model` as `Product`,   \r\n BE.`ManufacturerName`,   \r\n BE.`VersionNumber` as `Version`,   \r\n BE.`EndOfLife` AS `BE_EndOfLife`,   \r\n PMV.`EndOfLife` AS `CAT_EndOfLife`,   \r\n BE.`EndOfSupport` AS `BE_EOS`,   \r\n PMV.`EndOfSupport` as `CAT_EOS`,\r\n BE.`NormalizationStatus` as `Normalization`,\r\n COUNT(DISTINCT BE.`InstanceId`) as `InconsistentCIs`\r\n FROM `BMC.CORE:BMC_BaseElement` BE   \r\n LEFT OUTER JOIN `PCT:Product Model-Version` PMV   \r\n  ON PMV.`Product Name` = BE.`Model`    \r\n     AND PMV.`Manufacturer` = BE.`ManufacturerName`    \r\n     AND PMV.`Product Model/Version` = BE.`VersionNumber`   \r\n WHERE BE.`DatasetId` = 'BMC.ADDM' AND BE.`EndOfSupport` IS NOT NULL AND PMV.`EndOfSupport` is NULL\r\n AND BE.`MarkAsDeleted` is NULL\r\n GROUP BY \r\n BE.`Model`, \r\n BE.`ManufacturerName`,\r\n BE.`VersionNumber`,\r\n BE.`EndOfLife`,   \r\n PMV.`EndOfLife`,   \r\n BE.`EndOfSupport`,   \r\n PMV.`EndOfSupport`,\r\n BE.`NormalizationStatus`\r\n order by `InconsistentCIs` desc"},"sourceType":"remedy"}],"title":"Discovery Assets not in the catalog","transformations":[{"id":"organize","options":{"excludeByName":{"BE_EOS":true,"BE_EndOfLife":true,"CAT_EOS":true,"CAT_EndOfLife":true,"ManufacturerName":true,"Normalization":true,"Version":false},"includeByName":{},"indexByName":{},"renameByName":{}}}],"type":"piechart"},{"datasource":{"default":false,"type":"datasource","uid":"-- Dashboard --"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto"},"filterable":true,"inspect":false},"mappings":[],"noValue":"No issues found","thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Product"},"properties":[{"id":"custom.width","value":216}]},{"matcher":{"id":"byType","options":"time"},"properties":[{"id":"unit","value":"dateTimeAsLocal"}]}]},"gridPos":{"h":10,"w":13,"x":11,"y":83},"id":42,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":["InconsistentCIs"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"11.6.2","targets":[{"datasource":{"type":"datasource","uid":"-- Dashboard --"},"panelId":38,"refId":"A"}],"title":"Discovery Assets not in the catalog","type":"table"}],"title":"Product Catalog","type":"row"}],"refresh":"","schemaVersion":41,"tags":["EOL","EOS","Asset Management","End of Life","Demo_2"],"templating":{"list":[{"bmcVarCache":false,"current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"definition":"SELECT DISTINCT \r\n          BT_AST_BASEELEMENT.UserDisplayObjectName AS `UserDisplayObjectName`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BT_AST_BASEELEMENT\r\n","hide":0,"includeAll":true,"label":"Object Type","multi":true,"name":"AssetType","options":[],"query":{"sourceQuery":{"header":{"headerList":[{"arKey":"rowLimit","arType":"body","collapseHeader":false,"dataType":"number","text":"Row limit","value":"1000"}],"hideHeader":false},"queryType":"Views","rawQuery":"SELECT DISTINCT \r\n          BT_AST_BASEELEMENT.UserDisplayObjectName AS `UserDisplayObjectName`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BT_AST_BASEELEMENT\r\n","view":{"filters":[],"selectedFields":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_USERDISPLAYOBJECTNAME","columnName":"User Display Object Name","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"AST:BaseElement","target_column":"User Display Object Name","target_column_name":"UserDisplayObjectName","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":9,"viewName":"Asset Management"}}},"sourceType":"remedy"},"refresh":1,"regex":"","skipUrlSync":false,"sort":1,"type":"query","useDefaultValues":false},{"bmcVarCache":false,"current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"definition":"SELECT DISTINCT \r\n          BT_AST_ASSETPEOPLE.`Full Name` AS `FullName`\r\nFROM \r\n          `AR System Schema`.`AST:AssetPeople` BT_AST_ASSETPEOPLE\r\nWHERE \r\n        (\r\n          (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Supported by'\r\n          )\r\n      OR (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Owned by'\r\n          )\r\n      OR (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Managed by'\r\n          )\r\n        )\r\n","description":"Portfolios are drawn from the groups that support, manage or own an asset","hide":0,"includeAll":true,"label":"Portfolio","multi":true,"name":"Portfolio","options":[],"query":{"sourceQuery":{"header":{"headerList":[{"arKey":"rowLimit","arType":"body","collapseHeader":false,"dataType":"number","text":"Row limit","value":"1000"}],"hideHeader":false},"queryType":"Views","rawQuery":"SELECT DISTINCT \r\n          BT_AST_ASSETPEOPLE.`Full Name` AS `FullName`\r\nFROM \r\n          `AR System Schema`.`AST:AssetPeople` BT_AST_ASSETPEOPLE\r\nWHERE \r\n        (\r\n          (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Supported by'\r\n          )\r\n      OR (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Owned by'\r\n          )\r\n      OR (\r\n              BT_AST_ASSETPEOPLE.PersonRole  = 'Managed by'\r\n          )\r\n        )\r\n","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_ASSETPEOPLE_PERSONROLE","columnName":"Person Role","datatype":"STRING","fieldtype":"OTHER","filterVal":"Supported by","logicalTableName":"AST:AssetPeople","operand":"OR","relationalOperator":"EQUAL","target_column":"Person Role","target_column_name":"PersonRole","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_ASSETPEOPLE_PERSONROLE","columnName":"Person Role","datatype":"STRING","fieldtype":"OTHER","filterVal":"Owned by","logicalTableName":"AST:AssetPeople","operand":"OR","relationalOperator":"EQUAL","target_column":"Person Role","target_column_name":"PersonRole","target_column_type":"COLUMN_NAME"},{"aggregation":"NONE","columnId":"BC_AST_ASSETPEOPLE_PERSONROLE","columnName":"Person Role","datatype":"STRING","fieldtype":"OTHER","filterVal":"Managed by","logicalTableName":"AST:AssetPeople","operand":"OR","relationalOperator":"EQUAL","target_column":"Person Role","target_column_name":"PersonRole","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"NONE","columnId":"BC_AST_ASSETPEOPLE_FULL_NAME","columnName":"Full Name","datatype":"STRING","fieldtype":"DIMENSION","logicalTableName":"AST:AssetPeople","target_column":"Full Name","target_column_name":"Full Name","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":9,"viewName":"Asset Management"}}},"sourceType":"remedy"},"refresh":1,"regex":"","skipUrlSync":false,"sort":1,"type":"query","useDefaultValues":false},{"current":{"selected":true,"text":"90","value":"90"},"description":"The number of days prior to support expiring that is \"close\"","hide":0,"includeAll":false,"label":"","multi":false,"name":"CloseToEOSDays","options":[{"selected":false,"text":"0","value":"0"},{"selected":true,"text":"90","value":"90"},{"selected":false,"text":"180","value":"180"},{"selected":false,"text":"365","value":"365"},{"selected":false,"text":"730","value":"730"},{"selected":false,"text":"1000","value":"1000"}],"query":"0,90,180,365,730,1000","queryValue":"","skipUrlSync":false,"type":"custom"},{"bmcVarCache":false,"current":{"selected":true,"text":["Deployed"],"value":["Deployed"]},"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"definition":"SELECT DISTINCT \r\n          BT_AST_BASEELEMENT.AssetLifecycleStatus AS `AssetLifecycleStatus`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BT_AST_BASEELEMENT\r\nWHERE \r\n        (\r\n          (\r\n              BT_AST_BASEELEMENT.`Data Set Id`  = 'BMC.ASSET'\r\n          )\r\n        )\r\n","hide":0,"includeAll":true,"multi":true,"name":"AssetLifeCycleStatus","options":[],"query":{"sourceQuery":{"header":{"headerList":[{"arKey":"rowLimit","arType":"body","collapseHeader":false,"dataType":"number","text":"Row limit","value":"1000"}],"hideHeader":false},"queryType":"Views","rawQuery":"SELECT DISTINCT \r\n          BT_AST_BASEELEMENT.AssetLifecycleStatus AS `AssetLifecycleStatus`\r\nFROM \r\n          `AR System Schema`.`AST:BaseElement` BT_AST_BASEELEMENT\r\nWHERE \r\n        (\r\n          (\r\n              BT_AST_BASEELEMENT.`Data Set Id`  = 'BMC.ASSET'\r\n          )\r\n        )\r\n","view":{"filters":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_DATA_SET_ID","columnName":"Data Set Id","datatype":"STRING","fieldtype":"DIMENSION","filterVal":"BMC.ASSET","logicalTableName":"AST:BaseElement","operand":"AND","relationalOperator":"EQUAL","target_column":"Data Set Id","target_column_name":"Data Set Id","target_column_type":"COLUMN_NAME"}],"selectedFields":[{"aggregation":"NONE","columnId":"BC_AST_BASEELEMENT_ASSETLIFECYCLESTATUS","columnName":"Asset Lifecycle Status","datatype":"STRING","fieldtype":"OTHER","logicalTableName":"AST:BaseElement","target_column":"Asset Lifecycle Status","target_column_name":"AssetLifecycleStatus","target_column_type":"COLUMN_NAME"}],"selectedView":{"viewId":9,"viewName":"Asset Management"}}},"sourceType":"remedy"},"refresh":1,"regex":"","skipUrlSync":false,"sort":3,"type":"query","useDefaultValues":false},{"description":"The text within the summary of a CRQ that indicates that it is being used for EOL remediation","hide":2,"name":"CRQKeyword","query":"${VAR_CRQKEYWORD}","queryvalue":"Remediat","skipUrlSync":false,"type":"constant"},{"hide":2,"name":"SmartITURL","query":"${VAR_SMARTITURL}","queryvalue":"helixdemoash2755-demo-smartit.onbmc.com","skipUrlSync":false,"type":"constant"},{"hide":2,"name":"ObsolescenceState","query":"${VAR_OBSOLESCENCESTATE}","queryvalue":"All","skipUrlSync":false,"type":"constant"},{"bmcVarCache":false,"current":{"selected":false,"text":"1665","value":"1665"},"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"definition":"remedy,{\"sql\":\"SELECT COUNT(DISTINCT BE.`Instance Id`) FROM `AST:BaseElement` BE INNER JOIN `AST:AssetPeople` AP ON BE.`Reconciliation Identity` = AP.AssetInstanceId WHERE BE.`Data Set Id`  = 'BMC.ASSET' AND BE.UserDisplayObjectName  IN ($AssetType) AND AP.`Full Name` IN ($Portfolio) AND AP.PersonRole IN ('Managed by','Supported by', 'Owned by') AND  BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)  AND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\"}","hide":2,"includeAll":false,"multi":false,"name":"AssetsUnderManagement","options":[],"query":"remedy,{\"sql\":\"SELECT COUNT(DISTINCT BE.`Instance Id`) FROM `AST:BaseElement` BE INNER JOIN `AST:AssetPeople` AP ON BE.`Reconciliation Identity` = AP.AssetInstanceId WHERE BE.`Data Set Id`  = 'BMC.ASSET' AND BE.UserDisplayObjectName  IN ($AssetType) AND AP.`Full Name` IN ($Portfolio) AND AP.PersonRole IN ('Managed by','Supported by', 'Owned by') AND  BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus)  AND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No')\"}","refresh":2,"regex":"","skipUrlSync":false,"sort":0,"type":"query"},{"bmcVarCache":false,"current":{"selected":false,"text":"560","value":"560"},"datasource":{"type":"bmchelix-ade-datasource","uid":"${DS_BMC_HELIX}"},"definition":"remedy,{\"sql\":\"SELECT Count(DISTINCT BE.`Instance Id`) AS  CountOfAssets FROM `AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP ON BE.`Reconciliation Identity` = AP.AssetInstanceId LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`Where BE.`Data Set Id` IN ('BMC.ASSET') and BE.`UserDisplayObjectName` IN ($AssetType) AND AP.`Full Name` IN ($Portfolio) AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by') AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus) AND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No') AND NOT (PMV.`EndOfLife`IS NULL) AND ((DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0 )  AND (DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c 0 OR PMV.`EndOfSupport` IS NULL) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c 0 OR PMV.`EndOfExtendedSupport` IS NULL))\"}","hide":2,"includeAll":false,"multi":false,"name":"AssetsNeedingRemediation","options":[],"query":"remedy,{\"sql\":\"SELECT Count(DISTINCT BE.`Instance Id`) AS  CountOfAssets FROM `AST:BaseElement` BE INNER JOIN `AR System Schema`.`AST:AssetPeople` AP ON BE.`Reconciliation Identity` = AP.AssetInstanceId LEFT OUTER JOIN `AR System Schema`.`PDL:ProductModelVersion` PMV ON BE.`Model Number` = PMV.`Product Name` AND BE.`Manufacturer Name+` = PMV.`Manufacturer` AND BE.`Version Number` = PMV.`Product Model/Version`Where BE.`Data Set Id` IN ('BMC.ASSET') and BE.`UserDisplayObjectName` IN ($AssetType) AND AP.`Full Name` IN ($Portfolio) AND AP.`PersonRole` IN ('Managed by','Supported by', 'Owned by') AND BE.AssetLifecycleStatus IN ($AssetLifeCycleStatus) AND (BE.`Mark As Deleted` IS NULL OR BE.`Mark As Deleted` = 'No') AND NOT (PMV.`EndOfLife`IS NULL) AND ((DATEDIFF('day', currentDate(), PMV.`EndOfLife`) \u003c=0 )  AND (DATEDIFF('day', currentDate(), PMV.`EndOfSupport`) \u003c 0 OR PMV.`EndOfSupport` IS NULL) AND (DATEDIFF('day', currentDate(), PMV.`EndOfExtendedSupport`) \u003c 0 OR PMV.`EndOfExtendedSupport` IS NULL))\"}","refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"2020-07-02T04:00:00.000Z","to":"2032-07-02T03:59:59.000Z"},"timepicker":{"hidden":false},"timezone":"browser","title":"Obsolescence","uid":"ProductLifeCycleAnalysisCMDBRod","version":53,"weekStart":""}